---
title: Web技術の基本とその仕組み
category: "web"
createdAt: "2020-01-19"
cover: background.jpeg
---

Webフレームワークで開発をしていると、中でどのような通信が行われているか見えづらい。知らなくてもある程度開発ができてしまうところがこれらフレームワークの良い点かもしれないが、やはりそれではフレームワークに依存しすぎて開発に応用が効かないと思う。ここでは簡単にWebでの通信の仕組みの基礎についてまとめてみる。

## 目次

- [Webを表示するための3つの要素](#1)
- [通信はどのように行われているのか](#2)
- [URLにかかれているHTTPの意味](#3)
- [リクエストの形式：GETとPOST](#4)
- [IPアドレスとDNSサーバー](#5)
- [まとめ](#7)

<a id=1></a>

## Webを表示するための2つの要素

Webで画面を表示するためにはざっくり分けて2つの要素がある。

### ブラウザ

ブラウザとは、私たちがWeb上でホームページを見たりする際に使用するソフトである。
Internet ExplorerやGoogle Chrome、Firefoxなどがそれにあたります。URLで見たいページを指定して、後述するサーバーに指示を出したり受け取ったりする。

### サーバー

サーバーとは、情報の受け渡しを専門にしたコンピューターです。そのサーバー内にホームページの情報が置いてある。
ブラウザからそこにある情報を見に行くことで、Webページを見ることができる。

上記のWebサーバーの他に、データの格納をするDBサーバー、メールのやり取りが専門のメールサーバー、URLのドメインをIPアドレスに変換するDNSサーバーがある。

<a id=2></a>

## 通信はどのように行われているのか

まずブラウザからクライアントがURLを打ち込む。するとURLに紐づいた情報がサーバーへ送られる。
サーバーはそれに応じたテキスト情報をサーバー内で探してきて、HTMLという形式でブラウザに返します。それによってクライアントの端末にページが表示されます。

サーバーにこのページをもってきてと指示を出すことを**リクエスト**といい、逆にサーバーから受け取ることを**レスポンス**という。

| | 内容 |
| ------------------------------ | --------------------------- |
| ブラウザからサーバーへのアクセス | リクエスト (Request) |
| サーバーからブラウザへのアクセス | リスポンス (Response) |

<a id=3></a>

## URLに書かれているHTTPの意味

URLを見ると、最初にhttpやhttpsという文字が書かれている。これらは**スキーム名**を示しており、**通信プロトコル**と呼ばれているものを指定している。

> 通信プロトコルとは、ネットワーク上でデータを通信するための手順や規約の集合のことである。「protocol」には「規約」「議定書」といった意味がある。
>
> [通信プロトコルとは何？ Weblio辞書](https://www.weblio.jp/content/%E9%80%9A%E4%BF%A1%E3%83%97%E3%83%AD%E3%83%88%E3%82%B3%E3%83%AB)  

<br/>

この規約に基づいて情報のやり取りが行われてる。この通信プロトコルには他にも様々な種類があるが、Web上で一番多く使われているのがHTTPプロトコルである。

### httpとhttpsの違い

httpとhttpsの違いは暗号化の有無にある。httpsのsはsecureの頭文字で、HTTPで送られたプロトコルがSSLやTSLといった別のプロトコルによって暗号化されている状態を指す。現在ほとんどのサイトのURLがhttpsになっているが、それによってクレジットカードの暗証番号や自分のGoogleアカウント情報など、人に知られてはいけない情報が守られている。

<a id=4></a>

## リクエストの形式: GETとPOST

リクエストの形式には様々な種類がある。主要なものはGETとPOSTです。

### GET

簡単に言うとGETは、このページを持ってきて、という意味です。URLに直接情報をくっつけてリクエストを送る。

GETは単純にWebページの表示だけを行うため、サーバー内の情報そのものは変化しない。またGETリクエストを受信したサーバーは、リクエストされたページのHTMLを返す以外のことはしない。例えば、GETリクエストをもとに、新規にユーザアカウントを作成するといったことはしない。

### POST

これも簡単に言うと、このデータを送信して、という意味である。bodyに情報を含ませてリクエストを送る。

POSTの場合は、サーバー内の情報そのものが変化する。上記の例の場合、POSTでIDはPASSWORDを送信すれば新規アカウントが作成されます。また、POSTは必ずしも新しいHTMLの表示をするわけではありません。その代わり、クライアント側にはHTTPステータスコードというものを使って処理が行われたかを知らせる。

> より正確に言えば、GETリクエストでも新規アカウントを作成するように設計することもできますが、悪意のあるユーザーに情報を抜き取られたり、改ざんされる恐れがあるので使用しません。

### 結果を表示するHTTPステータスコード

ホームページのリンク先に飛んだ際に自分の見たいページが表示されておらず、代わりに404という表示されているところを見たことがあるかもしれません。

> 下のリンクを見ると404と表示されているページを見ることが出来ます。
> <https://www.python.org/1>

<br/>

それがステータスコードと呼ばれるものである。ステータスコードは3桁で示されており、100の位の数で意味が分かれている。

| ステータスコード | 内容                           |
| ---------------- | ------------------------------ |
| 100番台          | 案内(インフォメーション)       |
| 200番台          | 正常処理                       |
| 300番台          | 移転通知                       |
| 400番台          | (クライアントにおける)処理失敗 |
| 500番台          | サーバーエラー                 |

> [HTTP レスポンスステータスコード](https://developer.mozilla.org/ja/docs/Web/HTTP/Status)

<a id=5></a>

## IPアドレスとDNSサーバー

上記の説明でURLによって特定の情報がサーバーから呼び出されると言ったが、厳密には異なる。

URLによって直接的にサーバーを指し示すことはできない。サーバーには特定のIPアドレスを持っており、このIPアドレスによってサーバーが紐づけらる。URLをIPアドレスに変換するサーバーがDNSサーバーであり、これによりサーバとのやり取りが可能となる。

> IPアドレスを直接打ち込めばサーバーにアクセスはできますが、アドレスに関連性がないため覚えづらいことやIPアドレスが変更される場合があるため、通常はDNSサーバーを通す。

<a id=6></a>

## 参考資料

- 「プロになるためのWeb技術入門」
- Webを支える技術 -HTTP、URI、HTML、そしてREST