# リスト

## リストとは

リストとは、[ ]で構成されたデータの塊である。リストを使うことには、以下のようなメリットがある。

- 多くのデータを一度に扱うことが出来る
- 削除、追加が容易

リストの中には、str型やint型のどちらのデータでも扱うことが可能である。

## リストの作り方

鍵カッコで囲み、データ同士は ',' で区切る。

```python
l = ['a', 'b', 'c', 'd', 'e', 'f']
```

またlist関数を使っても作れる。

```python
l = list('abcdef')
print(l)
>> ['a', 'b', 'c', 'd', 'e', 'f']
```

## listからのデータの取り出し、書き換え

色々な方法でデータを取り出すことが出来る。具体的には場所や取り出し方を宣言することによって実行される。

> リスト内の番地は０，１，２，３，４の順番になり、始まりは0なので注意する。

```python
l = ['a', 'b', 'c', 'd', 'e', 'f']

l[0] # 'a'
l[1] # 'b'
l[0:3] # 'a', 'b', 'c', 'd'

# 0は省略できるので以下のようにも書ける
l[:3] # 'a', 'b', 'c', 'd'
```

また、データの中身を上書きすることも可能である。

```python
l = ['a', 'b', 'c', 'd', 'e', 'f']
l[1] = 'A'
print(l)
>> ['a', 'A', 'c', 'd', 'e', 'f']
```

## リストの便利なメソッド

リストには様々なメソッドが存在する。以下の4つを紹介する。

- pop()
- append()
- remove()
- insert()
- join()

### pop()

データを抜き出すことが出来る。元のリストからデータはなくなる。

```python
l = ['a', 'b', 'c', 'd', 'e', 'f']
pop_l = l.pop(1)
print(pop_l)
>> 'b'
print(l)
>> ['a', 'c', 'd', 'e', 'f']
```

### append()

リストの後ろにデータを追加できる。

```python
n = [1,2,3,4,5,6,7,8,9]
n.append(10)　# 一番後ろに追加
print(n)
>> [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
```

### remove()

特定のデータを削除できる。エラーを通して中にデータがないことを確認することも出来る(エラーハンドリングという)。

```python
n = [1,2,2,2,3]
n.remove(2) # [1, 2, 2, 3]
n.remove(2)
n.remove(2)
print(n) 
>> [1, 3]

# ここでもう一度2を消そうとしてみる
n.remove(2)　
# 削除できるデータがないのでエラーが出る
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
ValueError: list.remove(x): x not in list　
```

### insert()

特定の位置にデータを挿入できる。

```python
n = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
n.insert(0,0)　# 追加位置を指定
print(n)
>> [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
```

### join()

リスト内のデータを結合することが出来る。

```python
l = ['a', 'b', 'c', 'd']
join_l = ''.join(l)
print(join_l)
>> abcd
```

ただし、int型が混ざるときはそのまま結合することはできないので。先にmap()関数を用いる必要がある。

```python
l = ['a', 'b', 'c', 2]
# map型に変換する必要がある
map_l = map(l)
join_l = ''.join(map_l)
print(join_l)
>> abc2
```

## リスト内包記

リストに中にコードを書くこともできる。以下の例はタプル内データを特定の条件でリストに移すコードである。

```python
t = (1,2,3,4,5)
l =[]
for i in t:
    if i % 2 == 0:
        l.append(i)
print(l)
>> [2, 4]
```

このコードを内包記で書くと非常にすっきりする。

```python
l = [i for i in t if i % 2 == 0]
```

ただし、for文が2回以上になると内包記が分かりづらくなるので、推奨されていない。

```python
t1 = [1,2,3,4,5]
t2 = [6,7,8,9]
r = []
for i in t1:
    for j in t2:
        r.append(i * j)
```

これを内包記で書くと以下のようになる。

```python
r = [i * j for i in t1 for j in t2]
```